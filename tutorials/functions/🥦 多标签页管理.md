# ğŸ¥¦ å¤šæ ‡ç­¾é¡µç®¡ç†

æµè§ˆå™¨çš„æ ‡ç­¾é¡µç”± Tab å¯¹è±¡ï¼ˆChromiumTabå’ŒMixTabï¼‰æ§åˆ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸€å¯¹åº”å…³ç³»ã€‚å½“ç¦ç”¨å•ä¾‹æ¨¡å¼åï¼Œä¸€ä¸ªæ ‡ç­¾é¡µä¹Ÿå¯ä»¥è¢«å¤šä¸ª Tab å¯¹è±¡åŒæ—¶æ§åˆ¶ã€‚å¤šä¸ª Tab å¯¹è±¡å¯ä»¥åŒæ—¶æ“ä½œï¼Œä¸éœ€è¦åˆ‡æ¢ç„¦ç‚¹ï¼Œä¹Ÿä¸éœ€è¦æ¿€æ´»åˆ°å‰å°ã€‚è¦æ“ä½œå“ªä¸ªæ ‡ç­¾é¡µï¼Œåªè¦ç”¨å±äºå®ƒçš„ Tab å¯¹è±¡æ“ä½œå°±å¯ä»¥äº†ã€‚

## âœ…ï¸ è·å–æ ‡ç­¾é¡µå¯¹è±¡

### ğŸ“Œ è·å–æœ€åæ¿€æ´»çš„æ ‡ç­¾é¡µ

Chromiumå¯¹è±¡çš„`latest_tab`å±æ€§è¿”å›æœ€åæ¿€æ´»çš„æ ‡ç­¾é¡µå¯¹è±¡ã€‚

| è¯´æ˜ | 
|------|
| å¦‚`Settings.singleton_tab_obj`ä¸ºTrueï¼Œæ­¤å±æ€§è¿”å›æ ‡ç­¾é¡µå¯¹è±¡çš„ tab idã€‚ |

```python
from DrissionPage import Chromium

browser = Chromium()
tab = browser.latest_tab  # è·å–æœ€æ–°æ ‡ç­¾é¡µå¯¹è±¡
```

### ğŸ“Œ è·å–æŒ‡å®šæ ‡ç­¾é¡µ

Chromiumå¯¹è±¡çš„`get_tab()`å’Œ`get_tabs()`æ–¹æ³•ç”¨äºè·å–æŒ‡å®šçš„æ ‡ç­¾é¡µå¯¹è±¡ã€‚å¯æŒ‡å®šæ ‡ç­¾é¡µåºå·ã€idã€æ ‡é¢˜ã€urlã€ç±»å‹ç­‰æ¡ä»¶ç”¨äºæ£€ç´¢ã€‚api è¯¦è§ â€œæµè§ˆå™¨å¯¹è±¡â€ ç« èŠ‚ã€‚

| è¯´æ˜ | 
|------|
| å½“`id_or_num`ä¸ä¸ºNoneæ—¶ï¼Œå…¶å®ƒå‚æ•°æ— æ•ˆã€‚<br>titleã€urlå’Œtab_typeä¸‰ä¸ªå‚æ•°æ˜¯ä¸å…³ç³»ã€‚<br>å¦‚ä¼ å…¥åºå·ï¼Œåºå·ä¸æ ‡ç­¾é¡µè§†è§‰æ’åºä¸ä¸€å®šä¸€è‡´ï¼Œè€Œæ˜¯æŒ‰ç…§æ¿€æ´»é¡ºåºæ’åˆ—ã€‚ |

```python
from DrissionPage import Chromium

browser = Chromium()
tab1 = browser.get_tab(1)  # è·å–åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µçš„å¯¹è±¡
tab2 = browser.get_tab('5399F4ADFE3A27503FFAA56390344EE5')  # è·å–æŒ‡å®šidçš„æ ‡ç­¾é¡µå¯¹è±¡
tab3 = browser.get_tab(url='DrissionPage.cn')  # è·å–ç¬¬ä¸€ä¸ªurlä¸­å¸¦ 'DrissionPage.cn' çš„æ ‡ç­¾é¡µå¯¹è±¡
tabs = browser.get_tabs(url='DrissionPage.cn')  # è·å–æ‰€æœ‰urlä¸­å¸¦ 'DrissionPage.cn' çš„æ ‡ç­¾é¡µå¯¹è±¡
```

**æ³¨æ„**: Tab å¯¹è±¡é»˜è®¤ä¸ºå•ä¾‹ï¼Œå³ä¸€ä¸ªå®ä½“æ ‡ç­¾é¡µåªæœ‰ä¸€ä¸ªMixTabå¯¹è±¡ã€‚`get_tab()`è¿”å›çš„æ ‡ç­¾é¡µå¯èƒ½æ˜¯åŒä¸€ä¸ªã€‚

### ğŸ“Œ æ–°å»ºæ ‡ç­¾é¡µå¹¶è·å–å¯¹è±¡

Chromiumå¯¹è±¡çš„`new_tab()`æ–¹æ³•ç”¨äºæ–°å»ºä¸€ä¸ªæ ‡ç­¾é¡µï¼Œè¿”å›å…¶å¯¹è±¡ã€‚

```python
from DrissionPage import Chromium

browser = Chromium()
browser.new_tab(url='https://DrissionPage.cn')
```

| è¯´æ˜ | 
|------|
| å½“ä¼ å…¥urlå‚æ•°æ—¶ï¼Œç¨‹åºä¼šæ ¹æ®`load_mode`è®¾ç½®è®¿é—®é¡µé¢ï¼Œé™¤äº†noneæ¨¡å¼ï¼Œéƒ½å°†ç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•ã€‚<br>å¦‚æœæ–°å»ºå¤šä¸ªæ ‡ç­¾é¡µä¸æƒ³ç­‰å¾…ï¼Œå¯æ‰¹é‡æ–°å»ºä¸ä¼ å…¥urlå‚æ•°çš„æ ‡ç­¾é¡µï¼Œå†éå†ä½¿ç”¨`get()`ã€‚ |

### ğŸ“Œ è·å–ç‚¹å‡»åå‡ºç°çš„æ ‡ç­¾é¡µ

åœ¨é¢„æœŸç‚¹å‡»å…ƒç´ ä¼šå‡ºç°æ–°æ ‡ç­¾é¡µæ—¶ï¼Œå¯ç”¨å…ƒç´ çš„`click.for_new_tab()`æ–¹æ³•å®è¡Œç‚¹å‡»ï¼Œç‚¹å‡»åä¼šè¿”å›æ–°æ ‡ç­¾é¡µå¯¹è±¡ã€‚å…·ä½“å‚æ•°è§å…ƒç´ äº¤äº’ç« èŠ‚ã€‚

```python
from DrissionPage import Chromium

tab1 = Chromium().latest_tab
tab2 = tab1('tag:a').click.for_new_tab()  # ç‚¹å‡»è·å–æ–°tabå¯¹è±¡
print(tab2.title)  # ä½¿ç”¨æ–°tabå¯¹è±¡æ“ä½œ
```

å…ƒç´ å¯¹è±¡çš„`click.middle()`æ–¹æ³•å¯ç”¨ä¸­é”®ç‚¹å‡»`<a>`å…ƒç´ ï¼Œå¯å¼ºåˆ¶åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€é“¾æ¥ã€‚è¿”å›æ–°æ ‡ç­¾é¡µå¯¹è±¡ã€‚

```python
from DrissionPage import Chromium

tab1 = Chromium().latest_tab
tab2 = tab1('tag:a').click.middle()  # ç‚¹å‡»è·å–æ–°tabå¯¹è±¡
print(tab1.title)  # ä½¿ç”¨æ–°tabå¯¹è±¡æ“ä½œ
```

## âœ…ï¸ å¤šæ ‡ç­¾é¡µååŒ

è¿™ä¸ªç¤ºä¾‹åœ¨ä¸€ä¸ªæ ‡ç­¾é¡µä¸­éå†åˆ—è¡¨å…ƒç´ ï¼Œç‚¹å‡»æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼Œè·å–ä¿¡æ¯åå…³é—­ã€‚

```python
from DrissionPage import Chromium

tab = Chromium().latest_tab
tab.get('https://gitee.com/explore/all')

links = tab.eles('t:h3')
for link in links[:-1]:
    # ç‚¹å‡»é“¾æ¥å¹¶è·å–æ–°æ ‡ç­¾é¡µå¯¹è±¡
    new_tab = link.click.for_new_tab()
    # ç­‰å¾…æ–°æ ‡ç­¾é¡µåŠ è½½
    new_tab.wait.load_start()
    # æ‰“å°æ ‡ç­¾é¡µæ ‡é¢˜
    print(new_tab.title)
    # å…³é—­æ–°æ‰“å¼€çš„æ ‡ç­¾é¡µ
    new_tab.close()
```

## âœ…ï¸ ä½¿ç”¨å¤šä¾‹

é»˜è®¤æƒ…å†µä¸‹ï¼ŒTab å¯¹è±¡æ˜¯å•ä¾‹çš„ï¼Œå³ä¸€ä¸ªæ ‡ç­¾é¡µåªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œå³ä½¿é‡å¤ä½¿ç”¨`get_tab()`ï¼Œè·å–çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸»è¦æ˜¯é˜²æ­¢æ–°æ‰‹ä¸ç†è§£æœºåˆ¶ï¼Œåå¤åˆ›å»ºå¤šä¸ªè¿æ¥å¯¼è‡´èµ„æºè€—è´¹ã€‚å®é™…ä¸Šå…è®¸å¤šä¸ª Tab å¯¹è±¡åŒæ—¶æ“ä½œä¸€ä¸ªæ ‡ç­¾é¡µï¼Œæ¯ä¸ªè´Ÿè´£ä¸åŒçš„å·¥ä½œã€‚æ¯”å¦‚ä¸€ä¸ªæ‰§è¡Œä¸»é€»è¾‘æµç¨‹ï¼Œå¦å¤–çš„ç›‘è§†é¡µé¢ï¼Œå¤„ç†å„ç§å¼¹çª—ã€‚è¦å…è®¸å¤šä¾‹ï¼Œå¯ç”¨Settingsè®¾ç½®ï¼š

```python
from DrissionPage.common import Settings

Settings.singleton_tab_obj = False
```

**ç¤ºä¾‹**

```python
from DrissionPage import Chromium
from DrissionPage.common import Settings

browser = Chromium()
browser.new_tab()
browser.new_tab()

# æœªå¯ç”¨å¤šä¾‹ï¼š
tab1 = browser.get_tab(1)
tab2 = browser.get_tab(1)
print(id(tab1), id(tab2))

# å¯ç”¨å¤šä¾‹ï¼š
Settings.singleton_tab_obj = False
tab1 = browser.get_tab(1)
tab2 = browser.get_tab(1)
print(id(tab1), id(tab2))
```

è¾“å‡ºï¼š

```
2347582903056 2347582903056
2347588741840 2347588877712
```

å¯è§ç¬¬ä¸€æ¬¡è¾“å‡ºä¸¤ä¸ª Tab å¯¹è±¡æ˜¯åŒä¸€ä¸ªï¼Œç¬¬äºŒæ¬¡è¾“å‡ºæ˜¯ç‹¬ç«‹çš„ã€‚
```